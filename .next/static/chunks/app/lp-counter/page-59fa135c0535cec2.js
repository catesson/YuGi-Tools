(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{5841:function(e,t,n){Promise.resolve().then(n.bind(n,1658))},1658:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r=n(7437);function o(e){let{lifePoint:t,name:n,onClick:o,className:a}=e;return t>99999?t=99999:t<0&&(t=0),(0,r.jsxs)("div",{className:"flex flex-col cursor-pointer",onClick:o,children:[(0,r.jsx)("div",{"data-test-id":"lp "+n,className:"".concat(a," w-40 h-12 border-4 md:w-96 md:h-44 md:border-8 flex items-center justify-center border-red-900 rounded-3xl"),children:(0,r.jsx)("p",{className:"text-4xl md:text-9xl select-none",children:t})}),(0,r.jsx)("p",{className:"text-center py-1 md:py-3 ",children:n})]})}var a=n(2265);function l(){let[e,t]=(0,a.useState)("");return(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("button",{onClick:()=>{.5>Math.random()?t("pile"):t("face")},children:"Lancer"}),(0,r.jsx)("p",{children:e})]})}function s(){let[e,t]=(0,a.useState)("");return(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("button",{onClick:()=>{t(Math.floor(6*Math.random())+1)},children:"Lancer le D\xe9"}),(0,r.jsx)("p",{children:e})]})}var c="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function i(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function u(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function f(e){"string"!=typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}for(var d={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":c?173:189,"=":c?61:187,";":c?59:186,"'":222,"[":219,"]":221,"\\":220},y={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},p={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},m={16:!1,18:!1,17:!1,91:!1},h={},x=1;x<20;x++)d["f".concat(x)]=111+x;var v=[],k=!1,b="all",C=[],g=function(e){return d[e.toLowerCase()]||y[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function j(e){b=e||"all"}function w(){return b||"all"}var _=function(e){var t=e.key,n=e.scope,r=e.method,o=e.splitKey,a=void 0===o?"+":o;f(t).forEach(function(e){var t=e.split(a),o=t.length,l=t[o-1],s="*"===l?"*":g(l);if(h[s]){n||(n=w());var c=o>1?u(y,t):[];h[s]=h[s].filter(function(e){return!((!r||e.method===r)&&e.scope===n&&function(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,o=!0,a=0;a<n.length;a++)-1===r.indexOf(n[a])&&(o=!1);return o}(e.mods,c))})}})};function N(e,t,n,r){var o;if(t.element===r&&(t.scope===n||"all"===t.scope)){for(var a in o=t.mods.length>0,m)Object.prototype.hasOwnProperty.call(m,a)&&(!m[a]&&t.mods.indexOf(+a)>-1||m[a]&&-1===t.mods.indexOf(+a))&&(o=!1);(0!==t.mods.length||m[16]||m[18]||m[17]||m[91])&&!o&&"*"!==t.shortcut||(t.keys=[],t.keys=t.keys.concat(v),!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function O(e,t){var n=h["*"],r=e.keyCode||e.which||e.charCode;if(E.filter.call(this,e)){if((93===r||224===r)&&(r=91),-1===v.indexOf(r)&&229!==r&&v.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(t){var n=p[t];e[t]&&-1===v.indexOf(n)?v.push(n):!e[t]&&v.indexOf(n)>-1?v.splice(v.indexOf(n),1):"metaKey"===t&&e[t]&&3===v.length&&!(e.ctrlKey||e.shiftKey||e.altKey)&&(v=v.slice(v.indexOf(n)))}),r in m){for(var o in m[r]=!0,y)y[o]===r&&(E[o]=!0);if(!n)return}for(var a in m)Object.prototype.hasOwnProperty.call(m,a)&&(m[a]=e[p[a]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===v.indexOf(17)&&v.push(17),-1===v.indexOf(18)&&v.push(18),m[17]=!0,m[18]=!0);var l=w();if(n)for(var s=0;s<n.length;s++)n[s].scope===l&&("keydown"===e.type&&n[s].keydown||"keyup"===e.type&&n[s].keyup)&&N(e,n[s],l,t);if(r in h){for(var c=0;c<h[r].length;c++)if(("keydown"===e.type&&h[r][c].keydown||"keyup"===e.type&&h[r][c].keyup)&&h[r][c].key){for(var i=h[r][c],u=i.splitKey,f=i.key.split(u),d=[],x=0;x<f.length;x++)d.push(g(f[x]));d.sort().join("")===v.sort().join("")&&N(e,i,l,t)}}}}function E(e,t,n){v=[];var r,o=f(e),a=[],l="all",s=document,c=0,d=!1,p=!0,x="+",b=!1;for(void 0===n&&"function"==typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(l=t.scope),t.element&&(s=t.element),t.keyup&&(d=t.keyup),void 0!==t.keydown&&(p=t.keydown),void 0!==t.capture&&(b=t.capture),"string"==typeof t.splitKey&&(x=t.splitKey)),"string"==typeof t&&(l=t);c<o.length;c++)e=o[c].split(x),a=[],e.length>1&&(a=u(y,e)),(e="*"===(e=e[e.length-1])?"*":g(e))in h||(h[e]=[]),h[e].push({keyup:d,keydown:p,scope:l,mods:a,shortcut:o[c],method:n,key:o[c],splitKey:x,element:s});void 0!==s&&(r=s,!(C.indexOf(r)>-1))&&window&&(C.push(s),i(s,"keydown",function(e){O(e,s)},b),k||(k=!0,i(window,"focus",function(){v=[]},b)),i(s,"keyup",function(e){O(e,s),function(e){var t=e.keyCode||e.which||e.charCode,n=v.indexOf(t);if(n>=0&&v.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&v.splice(0,v.length),(93===t||224===t)&&(t=91),t in m)for(var r in m[t]=!1,y)y[r]===t&&(E[r]=!1)}(e)},b))}var P={getPressedKeyString:function(){return v.map(function(e){return Object.keys(d).find(function(t){return d[t]===e})||Object.keys(y).find(function(t){return y[t]===e})||String.fromCharCode(e)})},setScope:j,getScope:w,deleteScope:function(e,t){var n,r;for(var o in e||(e=w()),h)if(Object.prototype.hasOwnProperty.call(h,o))for(r=0,n=h[o];r<n.length;)n[r].scope===e?n.splice(r,1):r++;w()===e&&j(t||"all")},getPressedKeyCodes:function(){return v.slice(0)},getAllKeyCodes:function(){var e=[];return Object.keys(h).forEach(function(t){h[t].forEach(function(t){var n=t.key,r=t.scope,o=t.mods,a=t.shortcut;e.push({scope:r,shortcut:a,mods:o,keys:n.split("+").map(function(e){return g(e)})})})}),e},isPressed:function(e){return"string"==typeof e&&(e=g(e)),-1!==v.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||("INPUT"===n||"TEXTAREA"===n||"SELECT"===n)&&!t.readOnly)&&(r=!1),r},trigger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(h).forEach(function(n){h[n].filter(function(n){return n.scope===t&&n.shortcut===e}).forEach(function(e){e&&e.method&&e.method()})})},unbind:function(e){if(void 0===e)Object.keys(h).forEach(function(e){return delete h[e]});else if(Array.isArray(e))e.forEach(function(e){e.key&&_(e)});else if("object"==typeof e)e.key&&_(e);else if("string"==typeof e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n[0],a=n[1];"function"==typeof o&&(a=o,o=""),_({key:e,scope:o,method:a,splitKey:"+"})}},keyMap:d,modifier:y,modifierMap:p};for(var K in P)Object.prototype.hasOwnProperty.call(P,K)&&(E[K]=P[K]);if("undefined"!=typeof window){var S=window.hotkeys;E.noConflict=function(e){return e&&window.hotkeys===E&&(window.hotkeys=S),E},window.hotkeys=E}function A(e){let{value:t,onClick:n,keyCode:o,className:l}=e,[s,c]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{E(o,e=>{e.preventDefault(),n(),c(!0);let t=setTimeout(()=>{c(!1)},100);return()=>{clearTimeout(t),E.unbind(o)}})}),(0,r.jsx)("button",{"data-test-id":"BtnCalculator"+t,className:"btnCalculator ".concat(s?"btnCalculator-active":""," ").concat(l),onClick:n,children:t})}function L(e){let{value:t}=e;return(0,r.jsx)("div",{className:"w-40 h-12 md:w-52 md:h-20 border-4 flex items-center justify-center border-red-900 rounded-3xl ",children:(0,r.jsx)("p",{"data-test-id":"inputCalculator",className:"text-3xl md:text-5xl text-red-900",children:t})})}function B(){let[e,t]=(0,a.useState)(8e3),[n,c]=(0,a.useState)(8e3),[i,u]=(0,a.useState)(""),[f,d]=(0,a.useState)(""),y=e=>{parseInt(f+e)>99999?d(99999):d(parseInt(f+e))},p=(r,o)=>{try{if("Player A"===r)t(e+o),u(""),d("");else if("Player B"===r)c(n+o),u(""),d("");else throw Error("Joueur non reconnu")}catch(e){console.error("Une erreur s'est produite :",e.message)}},m=(r,o)=>{try{if("Player A"===r)t(e-o),u(""),d("");else if("Player B"===r)c(n-o),u(""),d("");else throw Error("Joueur non reconnu")}catch(e){console.error("Une erreur s'est produite :",e.message)}},h=()=>{"Player A"===i?u(""):u("Player A")},x=()=>{"Player B"===i?u(""):u("Player B")},v=()=>{let e=f.toString();e.length>1?d(parseInt(e.slice(0,e.length-1))):d("")};return(0,a.useEffect)(()=>(console.log("rerender"),E("left,right, down",(e,t)=>{switch(t.key){case"left":u("Player A");break;case"right":u("Player B");break;case"down":u("");break;default:e.preventDefault()}}),()=>E.unbind(",enter")),[]),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"flex flex-row justify-center gap-2 md:gap-5",children:[(0,r.jsx)(o,{onClick:()=>{h()},lifePoint:e,name:"Player A",className:"Player A"===i?"bg-red-900 text-white":"text-red-900 bg-white"}),(0,r.jsx)(o,{onClick:()=>{x()},lifePoint:n,name:"Player B",className:"Player B"===i?"bg-red-900 text-white":"text-red-900 bg-white"})]}),(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)(L,{value:f}),(0,r.jsxs)("div",{className:"flex flex-row justify-between md:justify-center md:gap-3 ".concat(""),children:[(0,r.jsx)(A,{value:"+",className:"btnCalculator-haut",onClick:e=>p(i,f),keyCode:"num_add"}),(0,r.jsx)(A,{value:"-",className:"btnCalculator-haut",onClick:e=>m(i,f),keyCode:"num_subtract"})]}),(0,r.jsx)(A,{value:"Del",className:"btnCalculator-large",onClick:()=>v(),keyCode:"backspace"})]}),(0,r.jsxs)("div",{className:"flex flex-row gap-x-2",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(A,{value:1,className:"btnCalculator-basic",onClick:e=>y("1"),keyCode:"num_1,1"}),(0,r.jsx)(A,{value:4,className:"btnCalculator-basic",onClick:e=>y("4"),keyCode:"num_4,4"}),(0,r.jsx)(A,{value:7,className:"btnCalculator-basic",onClick:e=>y("7"),keyCode:"num_7,7"}),(0,r.jsx)(A,{value:"0",className:"btnCalculator-basic",onClick:e=>y("0"),keyCode:"num_0,0"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(A,{value:2,className:"btnCalculator-basic",onClick:e=>y("2"),keyCode:"num_2,2"}),(0,r.jsx)(A,{value:5,className:"btnCalculator-basic",onClick:e=>y("5"),keyCode:"num_5,5"}),(0,r.jsx)(A,{value:8,className:"btnCalculator-basic",onClick:e=>y("8"),keyCode:"num_8,8"}),(0,r.jsx)(A,{value:"00",className:"btnCalculator-basic",onClick:e=>y("00")})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(A,{value:3,className:"btnCalculator-basic",onClick:e=>y("3"),keyCode:"num_3,3"}),(0,r.jsx)(A,{value:6,className:"btnCalculator-basic",onClick:e=>y("6"),keyCode:"num_6,6"}),(0,r.jsx)(A,{value:9,className:"btnCalculator-basic",onClick:e=>y("9"),keyCode:"num_9,9"}),(0,r.jsx)(A,{value:"000",className:"btnCalculator-basic",onClick:e=>y("000")})]})]})]}),(0,r.jsx)(l,{}),(0,r.jsx)(s,{}),(0,r.jsx)("button",{onClick:()=>{t(8e3),c(8e3),u(""),d("")},children:"Restart"})]})}n(4676)},4676:function(){},622:function(e,t,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),o=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,c={},i=null,u=null;for(r in void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!s.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:o,type:e,key:i,ref:u,props:c,_owner:l.current}}t.jsx=c,t.jsxs=c},7437:function(e,t,n){"use strict";e.exports=n(622)}},function(e){e.O(0,[87,971,596,744],function(){return e(e.s=5841)}),_N_E=e.O()}]);