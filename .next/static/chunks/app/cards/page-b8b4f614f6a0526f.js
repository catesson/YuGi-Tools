(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137],{9290:function(e,t,l){Promise.resolve().then(l.bind(l,8181)),Promise.resolve().then(l.bind(l,6358)),Promise.resolve().then(l.bind(l,1301))},1301:function(e,t,l){"use strict";l.r(t),l.d(t,{CardResult:function(){return i}});var n=l(7437),s=l(2265);function a(e){let{name:t,image:l,id:s}=e;return(0,n.jsx)("div",{className:"w-52 mx-3",children:(0,n.jsxs)("a",{href:"/card/".concat(s),children:[(0,n.jsx)("img",{className:"m-auto",style:{maxWidth:"168px",maxHeight:"246px"},src:"".concat(l.image_url_small),alt:t}),(0,n.jsx)("h2",{className:"text-center",children:t})]})})}var r=l(6358);function c(){let{maxPage:e,currentPage:t,search:l,params:a}=(0,s.useContext)(r.SearchContext);return(0,n.jsxs)("div",{className:"flex flex-nowrap justify-center gap-4",children:[(0,n.jsx)("button",{onClick:e=>{e.preventDefault(),a.set("page",1),l()},className:1==t?"hidden":"",children:"First Page"}),(0,n.jsx)("button",{onClick:e=>{e.preventDefault();let n=parseInt(t)-1;a.set("page",n),l()},className:1==t?"hidden":"",children:"prev"}),(0,n.jsx)("h1",{children:t}),(0,n.jsx)("button",{onClick:e=>{e.preventDefault();let n=parseInt(t)+1;a.set("page",n),l()},className:e<=t?"hidden":"",children:"next"}),(0,n.jsx)("button",{onClick:t=>{t.preventDefault(),a.set("page",e),l()},className:e==t?"hidden":"",children:"Last Page"})]})}function i(){let{allCards:e}=(0,s.useContext)(r.SearchContext);if(0!=e.length){let t=e!=[]?e.map(e=>(0,n.jsx)(a,{name:e.name,image:e.card_images[0],id:e.id},e.id)):(0,n.jsx)("p",{children:"test"});return(0,n.jsxs)("div",{className:"flex justify-center flex-col",children:[(0,n.jsx)("div",{className:"flex flex-wrap justify-evenly gap-y-5",children:t}),(0,n.jsx)(c,{})]})}}},6358:function(e,t,l){"use strict";l.r(t),l.d(t,{SearchContext:function(){return i},SearchContextProvider:function(){return o}});var n=l(7437),s=l(2265),a=l(4033),r=l(7897);function c(e){let{className:t}=e;return(0,n.jsx)("div",{className:"loadingio-spinner-dual-ring-buceso650hg "+t,children:(0,n.jsxs)("div",{className:"ldio-dmbxhivzecg",children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{})})]})})}l(8550);let i=(0,s.createContext)(null);function o(e){let{children:t}=e,[l,o]=(0,s.useState)([]),[d,u]=(0,s.useState)(1),[h,x]=(0,s.useState)(1),p=(0,a.useSearchParams)(),[m,j]=(0,s.useState)(new URLSearchParams(p)),[f,v]=(0,s.useState)(""),[b,g]=(0,s.useState)([]),[S,N]=(0,s.useState)([]),[y,C]=(0,s.useState)([]),[M,w]=(0,s.useState)([]),[k,T]=(0,s.useState)([]),_=(0,s.useCallback)(async()=>{try{let{cards:e,maxPage:t}=await (0,r.h4)(m);if(0==b.length||0==S.length){let{monsterRace:e,attribute:t,magicRace:l,trapRace:n,frameTypeMonster:s}=await (0,r.zK)();C(l),w(n),N(t),g(e),T(s)}o(e),console.log(l),v("hidden"),u(t),x(m.get("page")?m.get("page"):1)}catch(e){console.log(e),o([]),v("hidden")}},[m]);return(0,s.useEffect)(e=>{_(e)},[]),(0,n.jsxs)(i.Provider,{value:{allCards:l,params:m,setParams:j,maxPage:d,currentPage:h,monsterRace:b,attribute:S,magicRace:y,trapRace:M,search:_,frameTypeMonster:k},children:[t,(0,n.jsx)(c,{className:f})]})}},8181:function(e,t,l){"use strict";l.r(t),l.d(t,{SearchForm:function(){return d}});var n=l(7437),s=l(1865),a=l(2265),r=l(6358);function c(e){let{className:t,register:l}=e,{monsterRace:s,attribute:c,frameTypeMonster:i}=(0,a.useContext)(r.SearchContext),o=c.map((e,t)=>(0,n.jsx)("option",{value:"".concat(e._id),children:e._id},t)),d=s.map((e,t)=>(0,n.jsx)("option",{value:"".concat(e._id),children:e._id},t)),u=i.map((e,t)=>(0,n.jsx)("option",{value:"".concat(e._id),children:e._id},t));return(0,n.jsxs)("div",{className:"monsterSearch ".concat(t," "),children:[(0,n.jsxs)("div",{className:"label-input",children:[(0,n.jsx)("label",{htmlFor:"Monster.level",children:"Level / Rank"}),(0,n.jsx)("input",{id:"Monster.level","data-test-id":"MonsterLevel",type:"number",placeholder:"Level/Rank",...l("Monster.level",{min:0,max:12})})]}),(0,n.jsxs)("div",{className:"label-input",children:[(0,n.jsx)("label",{htmlFor:"Monster.scale",children:"Pendulum scale"}),(0,n.jsx)("input",{id:"Monster.scale",type:"number",placeholder:"Pendulum scale",...l("Monster.scale",{min:0,max:12})})]}),(0,n.jsxs)("div",{className:"label-input",children:[(0,n.jsx)("label",{htmlFor:"Monster.frameType",children:"Cards Type"}),(0,n.jsxs)("select",{...l("Monster.frameType"),id:"Monster.frameType",children:[(0,n.jsx)("option",{value:"",children:"Card Type"}),u]})]}),(0,n.jsxs)("div",{className:"label-input",children:[(0,n.jsx)("label",{htmlFor:"Monster.attribute",children:"Attribute"}),(0,n.jsxs)("select",{...l("Monster.attribute"),id:"Monster.attribute",placeholder:"Attribute","data-test-id":"Attribute",children:[(0,n.jsx)("option",{value:"",children:"Attribute"}),o]})]}),(0,n.jsxs)("div",{className:"label-input",children:[(0,n.jsx)("label",{htmlFor:"Monster.race",children:"Monster Type"}),(0,n.jsxs)("select",{...l("Monster.race"),"data-test-id":"Race",id:"Monster.race",children:[(0,n.jsx)("option",{value:"",placeholder:"type",children:"Monster Type"}),d]})]})]})}function i(e){let{className:t,register:l}=e,{magicRace:s}=(0,a.useContext)(r.SearchContext),c=s.map((e,t)=>(0,n.jsx)("option",{value:"".concat(e._id),children:e._id},t));return(0,n.jsx)("div",{className:"".concat(t," magicSearch"),children:(0,n.jsxs)("div",{className:"label-input",children:[(0,n.jsx)("label",{htmlFor:"Spell.race",children:"Spell Type"}),(0,n.jsxs)("select",{id:"Spell.race",...l("Spell.race"),children:[(0,n.jsx)("option",{value:""}),c]})]})})}function o(e){let{className:t,register:l}=e,{trapRace:s}=(0,a.useContext)(r.SearchContext),c=s.map((e,t)=>(0,n.jsx)("option",{value:"".concat(e._id),children:e._id},t));return(0,n.jsx)("div",{className:"".concat(t," trapSearch w-10/12 lg:w-2/4 sm:w-full"),children:(0,n.jsxs)("div",{className:"label-input",children:[(0,n.jsx)("label",{htmlFor:"Trap.race",children:"Trap Type"}),(0,n.jsxs)("select",{id:"Trap.race",...l("Trap.race"),children:[(0,n.jsx)("option",{value:""}),c]})]})})}function d(){let{search:e,params:t}=(0,a.useContext)(r.SearchContext),[l,d]=(0,a.useState)(""),u=" lg:w-2/4 sm:w-full w-10/12 ",h=()=>{let e=[];for(let l of t.keys())e.push(l);for(let l of(console.log(e),e))t.delete(l)},{register:x,handleSubmit:p,formState:{errors:m}}=(0,s.cI)();return(0,n.jsxs)("form",{className:"flex flex-col gap-y-5 flex-wrap searchForm justify-center items-center w-full sm:w-2/3",onSubmit:p((n,s)=>{s.preventDefault(),h(),console.log(n),console.log(l),t.set("name",n.name);let a=n[l];for(let e in a)a.hasOwnProperty(e)&&t.set(e,a[e]);"Monster"==l?t.set("type",l):t.set("frameType",l),e()}),children:[(0,n.jsxs)("div",{className:"flex flex-row justify-between px-2 ".concat(u),children:[(0,n.jsx)("button",{type:"button",name:"MonsterOnglet",className:"hover-onglet Monster rounded-md  px-3 ".concat("Monster"==l?"hover-onglet--active":""),onClick:e=>{e.preventDefault(),"Monster"==l?d(""):d("Monster")},children:"Monster"}),(0,n.jsxs)("button",{type:"button",className:"hover-onglet Spell rounded-md px-3 ".concat("Spell"==l?"hover-onglet--active":""),onClick:e=>{e.preventDefault(),"Spell"==l?d(""):d("Spell")},children:["Spell"," "]}),(0,n.jsxs)("button",{type:"button",className:"hover-onglet Trap rounded-md py-1 px-3 ".concat("Trap"==l?"hover-onglet--active":""),onClick:e=>{e.preventDefault(),"Trap"==l?d(""):d("Trap")},children:["Trap"," "]}),(0,n.jsxs)("button",{type:"button",className:"hover-onglet Skill rounded-md px-3 ".concat("Skill"==l?"hover-onglet--active":""),onClick:e=>{e.preventDefault(),"Skill"==l?d(""):d("Skill")},children:["Skill"," "]})]}),(0,n.jsx)(c,{className:"".concat("Monster"==l?"":"hidden"),register:x}),(0,n.jsx)(i,{className:"".concat("Spell"==l?"":"hidden"," ").concat(u),register:x}),(0,n.jsx)(o,{className:"".concat("Trap"==l?"":"hidden"," ").concat(u),register:x}),(0,n.jsxs)("div",{className:"label-input ".concat(u),children:[(0,n.jsx)("label",{htmlFor:"name",children:"Your search"}),(0,n.jsxs)("div",{className:"flex flex-row justify-between w-full ",children:[(0,n.jsx)("input",{id:"name",...x("name"),placeholder:"Your search"}),(0,n.jsx)("button",{type:"submit",name:"submitSearchForm",className:"",children:"submit"})]})]})]})}l(1448)},1448:function(){},8550:function(){},4033:function(e,t,l){e.exports=l(8165)}},function(e){e.O(0,[811,897,467,971,596,744],function(){return e(e.s=9290)}),_N_E=e.O()}]);